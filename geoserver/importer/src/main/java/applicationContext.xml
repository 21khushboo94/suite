<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
  <!-- 
   Demo menu item
   -->
  <bean id="importerMenuPage" class="org.geoserver.web.MenuPageInfo">
    <property name="id" value="importer"/>
    <property name="titleKey" value="StoreChooserPage.menu"/>
    <property name="descriptionKey" value="StoreChooserPage.description"/>
    <property name="componentClass" value="org.geoserver.web.importer.StoreChooserPage"/>
  </bean>
  
  <!-- the import thread pool manager -->
  <bean id="importerPool" class="org.geoserver.importer.ImporterThreadManager"/>
  
   <bean id="restConfigUploadMapping" class="org.geoserver.rest.RESTMapping">
    <property name="routes">
      <map>
        <entry>
          <key><value>/upload</value></key>
          <value>resourceUploader</value>
        </entry>
      </map>
    </property>
  </bean>
  
  <bean id="resourceUploaderConfigPersister" 
        class="org.geoserver.uploader.UploaderConfigPersister">
    <constructor-arg ref="catalog"/>
    <constructor-arg ref="resourceLoader"/>
  </bean>
  
  <bean id="resourceUploader" class="org.geoserver.uploader.ResourceUploader">
    <constructor-arg ref="catalog"/>
    <constructor-arg ref="dataDirectory"/>
    <constructor-arg ref="resourceUploaderConfigPersister"/>
  </bean>
  
 </beans>
