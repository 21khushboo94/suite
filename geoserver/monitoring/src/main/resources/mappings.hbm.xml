<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

  <typedef name="RequestStatus" class='org.geoserver.monitoring.monitors.hb.EnumUserType'>
      <param name="enumClassName">com.geoserver.monitoring.monitors.RequestStats.Status</param>
  </typedef>

  
  <class name="org.geoserver.monitoring.monitors.RequestStats" table="REQUESTS">
    <id column="ID" name="requestId">
      <generator class="assigned"/>
    </id>
    <property column="STATUS" name="status" not-null="true"/>
    <property column="SERVICE" name="serviceName" not-null="true"/>
    <property column="VERSION" name="serviceVersion" not-null="true"/>
    <property column="OPERATION" name="operationName" not-null="true"/>
    <property column="HTTP_METHOD" name="httpMethod" not-null="true"/>
    <property column="START_TIME" name="startTime" not-null="true" index="REQ_STRT_TIME_IDX"/>
    <property column="TOTAL_TIME" name="totalTime" not-null="true"/>
    <property column="RESPONSE_LENGTH" name="responseLength" not-null="true"/>
    <property column="USER" name="userName"/>
    <property column="CONTENT_TYPE" name="responseContentType"/>
    <property column="SERVICE_EXCEPTION" name="serviceException"/>
    <property column="EXCEPTION_STACK_TRACE" name="exceptionStackTrace" type="java.sql.Clob"/>
    <property column="REMOTE_ADDRESS" name="remoteAddr" length="11" />
    <property column="REMOTE_HOST" name="remoteHost"/>
    <property column="SERVER_HOST" name="host"/>
    <property column="QUERY_STRING" name="queryString" length="1024"/>
  </class>
</hibernate-mapping>
